(this.webpackJsonpbloggy=this.webpackJsonpbloggy||[]).push([[0],{34:function(t,e,c){},35:function(t,e,c){},60:function(t,e,c){"use strict";c.r(e);var n=c(1),s=c.n(n),o=c(27),a=c.n(o),r=(c(34),c(9)),i=c(7),l=c(2),b=(c(35),c(12)),j=c.n(b),u=c(0),d=function(t){var e=Object(l.e)();return Object(u.jsx)("div",{className:"col-4 mt-5",children:Object(u.jsxs)("div",{className:"card text-center",children:[Object(u.jsx)("img",{src:"https://images.unsplash.com/photo-1521575107034-e0fa0b594529?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=748&q=80",className:"card-img-top",alt:"Post"}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title text-truncate",children:t.post.title}),Object(u.jsx)("p",{className:"card-text text-truncate",children:t.post.body}),Object(u.jsxs)("div",{className:"btn-group",children:[Object(u.jsx)(i.b,{to:"/FinalProject/Blog/Post/".concat(t.post.id),className:"btn btn-primary",children:"View"}),Object(u.jsx)("button",{onClick:function(){e.push("/FinalProject/Blog/Post/Edit/".concat(t.post.id))},className:"btn btn-warning",children:"Edit"}),Object(u.jsx)("button",{onClick:t.deletePost,className:"btn btn-danger",children:"Delete"})]})]})]})})},x=function(t){var e=Object(l.e)();Object(n.useEffect)((function(){0===t.posts.length&&j.a.get("/posts").then((function(e){t.setPosts(e.data.slice(0,30))})).catch((function(t){console.log(t)}))}),[t]);var c=t.posts.map((function(c,n){return Object(u.jsx)(d,{post:c,deletePost:function(){return function(c){var n=t.posts.slice();console.log(n.indexOf(c)),n.splice(n.indexOf(c),1),t.setPosts((function(){return n})),j.a.delete("/posts/".concat(c.id)).then((function(t){console.log(t),e.push("/FinalProject")})).catch((function(t){console.log(t)}))}(c)}},n)}));return Object(u.jsxs)("div",{className:"row container mx-auto",children:[Object(u.jsx)(i.b,{to:{pathname:"/FinalProject/Blog/CreatePost",data:{addPost:function(c){var n=t.posts;c.id=n[n.length-1].id+1,n.push(c),t.setPosts(n),e.push("/FinalProject"),j.a.post("/posts").then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}}},className:"btn btn-success my-5",children:"Create new Post"}),c]})},f=c(10),O=function(){var t={title:"",body:""},e=Object(n.useState)((function(){return t})),c=Object(r.a)(e,2),s=c[0],o=c[1],a=Object(l.f)();return Object(u.jsxs)("div",{className:"row text-center mt-5",children:[Object(u.jsx)("h1",{children:"Create new Post"}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{className:"form-label",children:"Title: "}),Object(u.jsx)("input",{className:"form-control w-25 mx-auto",type:"text",onChange:function(t){return o(Object(f.a)(Object(f.a)({},s),{},{title:t.target.value}))},placeholder:"Title"})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{className:"form-label",children:"Body: "}),Object(u.jsx)("textarea",{className:"form-control w-25 mx-auto",type:"text",onChange:function(t){return o(Object(f.a)(Object(f.a)({},s),{},{body:t.target.value}))},placeholder:"Body"})]}),Object(u.jsxs)("div",{className:"btn-group-vertical w-25 mx-auto",children:[Object(u.jsx)("button",{className:"btn btn-success",onClick:function(){return a.data.addPost(s)},children:"Create Post"}),Object(u.jsx)(i.b,{to:"/FinalProject",className:"btn btn-primary",children:"Back"})]})]})},h=function(t){var e=Object(l.e)(),c=Object(l.g)().id,s={title:"",body:""},o=Object(n.useState)((function(){return s})),a=Object(r.a)(o,2),b=a[0],d=a[1],x=Object(n.useState)((function(){return s})),O=Object(r.a)(x,2),h=O[0],m=O[1];Object(n.useEffect)((function(){for(var e=function(e){if(t.posts[e].id==c)return d((function(){return t.posts[e]})),m((function(){return t.posts[e]})),"break"},n=0;n<t.posts.length;n++){if("break"===e(n))break}}),[c,t]);return Object(u.jsxs)("div",{className:"row text-center mt-5",children:[Object(u.jsx)("h1",{children:"Edit Post"}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{className:"form-label",children:"Title: "}),Object(u.jsx)("input",{className:"form-control w-25 mx-auto",value:b.title,onChange:function(t){return d(Object(f.a)(Object(f.a)({},b),{},{title:t.target.value}))},placeholder:"title"})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{className:"form-label",children:"Body: "}),Object(u.jsx)("textarea",{className:"form-control w-25 mx-auto",value:b.body,onChange:function(t){return d(Object(f.a)(Object(f.a)({},b),{},{body:t.target.value}))},placeholder:"body"})]}),Object(u.jsxs)("div",{className:"btn-group-vertical w-25 mx-auto",children:[Object(u.jsx)("button",{className:"btn btn-warning",onClick:function(){var c=t.posts,n=t.posts.indexOf(h);c.splice(n,1,b),t.setPosts((function(){return c})),j.a.put("/posts/".concat(n+1)).then((function(t){console.log(t),e.push("/FinalProject")})).catch((function(t){console.log(t)}))},children:"Edit Post"}),Object(u.jsx)(i.b,{to:"/FinalProject",className:"btn btn-primary",children:"Back"})]})]})},m=c(29),p=c.n(m),g=function(t){return Object(u.jsx)("div",{className:"row text-center mt-5",children:Object(u.jsxs)("div",{className:"col my-5",children:[Object(u.jsx)("h2",{className:"mb-5 fs-3",children:"Log in using facebook to proceed"}),Object(u.jsx)(p.a,{appId:"137347345042510",autoLoad:!1,fields:"picture",callback:t.responseFacebook})]})})},v=function(t){return Object(u.jsx)("nav",{className:"navbar navbar-dark bg-dark",children:Object(u.jsxs)("div",{className:"container-fluid justify-content-between",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{className:"navbar-brand",children:"Bloggy"})}),t.token?Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{className:"rounded",src:t.picture,alt:""}),Object(u.jsx)("button",{onClick:t.logout,className:"btn btn-dark",children:"Logout"})]}):null]})})},N=function(t){var e=Object(l.g)().id,c={title:"",body:""},s=Object(n.useState)((function(){return c})),o=Object(r.a)(s,2),a=o[0],b=o[1];return Object(n.useEffect)((function(){for(var c=function(c){if(t.posts[c].id==e)return b((function(){return t.posts[c]})),"break"},n=0;n<t.posts.length;n++){if("break"===c(n))break}}),[e,t]),Object(u.jsx)("div",{className:"m-auto p-5",style:{backgroundImage:"url(https://images.unsplash.com/photo-1521575107034-e0fa0b594529?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=748&q=80)",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:Object(u.jsxs)("div",{className:"row mx-auto mt-5 p-5 container col bg-light text-center",children:[Object(u.jsxs)("h1",{children:["Post ID: ",a.id]}),Object(u.jsxs)("h2",{children:["Title: ",a.title]}),Object(u.jsx)("p",{className:"mt-5 fs-3",children:"Body:"}),Object(u.jsx)("p",{className:"fs-3",children:a.body}),Object(u.jsx)(i.b,{to:"/FinalProject",className:"btn btn-primary w-50 mx-auto",children:"Back"})]})})},P=function(){var t=Object(n.useState)((function(){return[]})),e=Object(r.a)(t,2),c=e[0],s=e[1],o=Object(n.useState)((function(){return null})),a=Object(r.a)(o,2),b=a[0],j=a[1],d=Object(n.useState)((function(){return""})),f=Object(r.a)(d,2),m=f[0],p=f[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(v,{token:b,logout:function(){j((function(){return null}))},picture:m}),Object(u.jsx)(i.a,{children:b?Object(u.jsxs)("div",{children:[Object(u.jsx)(l.a,{exact:!0,path:"/FinalProject",render:function(){return Object(u.jsx)(x,{posts:c,setPosts:s})}}),Object(u.jsx)(l.a,{exact:!0,path:"/FinalProject/Blog/CreatePost",component:O}),Object(u.jsx)(l.a,{exact:!0,path:"/FinalProject/Blog/Post/Edit/:id",render:function(){return Object(u.jsx)(h,{posts:c,setPosts:s})}}),Object(u.jsx)(l.a,{exact:!0,path:"/FinalProject/Blog/Post/:id",render:function(){return Object(u.jsx)(N,{posts:c})}})]}):Object(u.jsx)(g,{responseFacebook:function(t){"unknown"!==t.status?(console.log(t),j((function(){return t.accessToken})),console.log(t),p((function(){return t.picture.data.url}))):console.log("unknown response")}})})]})},k=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,61)).then((function(e){var c=e.getCLS,n=e.getFID,s=e.getFCP,o=e.getLCP,a=e.getTTFB;c(t),n(t),s(t),o(t),a(t)}))};a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(P,{})}),document.getElementById("root")),k()}},[[60,1,2]]]);
//# sourceMappingURL=main.634cc92e.chunk.js.map